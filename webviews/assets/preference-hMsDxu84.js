import{S as H,d as K,e as Y,y as h,Q as b,j as c,E as F,k as R,l as r,G as j,n as G,m as S,I as $e,a0 as se,a2 as le,F as ue,Y as ge,z as E,A as L,a as re,t as D,c as ce,b as B,B as O,ao as ve,Z as be,K as X,ap as ee,aq as te,ah as ye,a4 as we}from"./index-p4Dt6o3z.js";import{aG as oe}from"./AugmentMessage-x438MRdb.js";import{C as ke,m as Ce,s as xe}from"./chat-context-Dq8CyOam.js";import{h as ne,W as z}from"./ButtonAugment-DueOA3_V.js";import{M as qe}from"./TextTooltipAugment-C0ygVke5.js";import"./github-hmyLGe0b.js";import"./augment-logo-C66YBCMf.js";import"./Content-7zb4jZEH.js";import"./globals-D0QH3NT1.js";import"./CollapseButtonAugment-C3mt1EeR.js";import"./toggleHighContrast-CKn954qg.js";import"./preload-helper-Dv6uf1Os.js";import"./IconButtonAugment-B0XoCIXT.js";import"./keypress-DD1aQVr0.js";import"./await_block-CgSfNRTu.js";import"./circle-backslash-B3nG_JMr.js";import"./file-paths-BEF4tZXQ.js";import"./expand-Ccnb8uFO.js";import"./index-CkBhOCxh.js";import"./ellipsis-Bz-dObmZ.js";import"./IconFilePath-DrTaSdRG.js";import"./LanguageIcon-e6aGriGL.js";import"./next-edit-types-904A5ehg.js";import"./MaterialIcon-9THX1buP.js";import"./mcp-logo-CiDifGtg.js";import"./play-DmB9WugJ.js";import"./pen-to-square-DUXCbbi7.js";function de(s){let t,n;return{c(){t=h("div"),n=se(s[1]),c(t,"class","header svelte-1894wv4")},m(e,l){R(e,t,l),r(t,n)},p(e,l){2&l&&le(n,e[1])},d(e){e&&S(t)}}}function Ae(s){let t,n,e,l,i,o,d,f,p,u,A,y,$,x,k,w,m,I,q=s[1]&&de(s);return{c(){t=h("div"),q&&q.c(),n=b(),e=h("div"),l=h("button"),l.textContent="A",i=b(),o=h("button"),o.textContent="A",d=b(),f=h("button"),f.textContent="A",p=b(),u=h("button"),u.textContent="=",A=b(),y=h("button"),y.textContent="B",$=b(),x=h("button"),x.textContent="B",k=b(),w=h("button"),w.textContent="B",c(l,"type","button"),c(l,"class","button large svelte-1894wv4"),F(l,"highlighted",s[0]==="A3"),c(o,"type","button"),c(o,"class","button medium svelte-1894wv4"),F(o,"highlighted",s[0]==="A2"),c(f,"type","button"),c(f,"class","button small svelte-1894wv4"),F(f,"highlighted",s[0]==="A1"),c(u,"type","button"),c(u,"class","button equal svelte-1894wv4"),F(u,"highlighted",s[0]==="="),c(y,"type","button"),c(y,"class","button small svelte-1894wv4"),F(y,"highlighted",s[0]==="B1"),c(x,"type","button"),c(x,"class","button medium svelte-1894wv4"),F(x,"highlighted",s[0]==="B2"),c(w,"type","button"),c(w,"class","button large svelte-1894wv4"),F(w,"highlighted",s[0]==="B3"),c(e,"class","buttons svelte-1894wv4"),c(t,"class","container svelte-1894wv4")},m(g,M){R(g,t,M),q&&q.m(t,null),r(t,n),r(t,e),r(e,l),r(e,i),r(e,o),r(e,d),r(e,f),r(e,p),r(e,u),r(e,A),r(e,y),r(e,$),r(e,x),r(e,k),r(e,w),m||(I=[j(l,"click",s[3]),j(o,"click",s[4]),j(f,"click",s[5]),j(u,"click",s[6]),j(y,"click",s[7]),j(x,"click",s[8]),j(w,"click",s[9])],m=!0)},p(g,[M]){g[1]?q?q.p(g,M):(q=de(g),q.c(),q.m(t,n)):q&&(q.d(1),q=null),1&M&&F(l,"highlighted",g[0]==="A3"),1&M&&F(o,"highlighted",g[0]==="A2"),1&M&&F(f,"highlighted",g[0]==="A1"),1&M&&F(u,"highlighted",g[0]==="="),1&M&&F(y,"highlighted",g[0]==="B1"),1&M&&F(x,"highlighted",g[0]==="B2"),1&M&&F(w,"highlighted",g[0]==="B3")},i:G,o:G,d(g){g&&S(t),q&&q.d(),m=!1,$e(I)}}}function Be(s,t,n){let{selected:e=null}=t,{question:l=null}=t;function i(o){n(0,e=o)}return s.$$set=o=>{"selected"in o&&n(0,e=o.selected),"question"in o&&n(1,l=o.question)},[e,l,i,()=>i("A3"),()=>i("A2"),()=>i("A1"),()=>i("="),()=>i("B1"),()=>i("B2"),()=>i("B3")]}class ae extends H{constructor(t){super(),K(this,t,Be,Ae,Y,{selected:0,question:1})}}function pe(s){let t,n;return{c(){t=h("div"),n=se(s[1]),c(t,"class","question svelte-1i0f73l")},m(e,l){R(e,t,l),r(t,n)},p(e,l){2&l&&le(n,e[1])},d(e){e&&S(t)}}}function De(s){let t,n,e,l,i,o=s[1]&&pe(s);return{c(){t=h("div"),o&&o.c(),n=b(),e=h("textarea"),c(e,"class","input svelte-1i0f73l"),c(e,"placeholder",s[2]),c(e,"rows","3"),c(t,"class","container svelte-1i0f73l")},m(d,f){R(d,t,f),o&&o.m(t,null),r(t,n),r(t,e),ue(e,s[0]),l||(i=j(e,"input",s[3]),l=!0)},p(d,[f]){d[1]?o?o.p(d,f):(o=pe(d),o.c(),o.m(t,n)):o&&(o.d(1),o=null),4&f&&c(e,"placeholder",d[2]),1&f&&ue(e,d[0])},i:G,o:G,d(d){d&&S(t),o&&o.d(),l=!1,i()}}}function Ie(s,t,n){let{value:e=""}=t,{question:l=null}=t,{placeholder:i=""}=t;return s.$$set=o=>{"value"in o&&n(0,e=o.value),"question"in o&&n(1,l=o.question),"placeholder"in o&&n(2,i=o.placeholder)},[e,l,i,function(){e=this.value,n(0,e)}]}class Me extends H{constructor(t){super(),K(this,t,Ie,De,Y,{value:0,question:1,placeholder:2})}}function Re(s){let t,n,e,l;return{c(){t=h("button"),n=se(s[0]),c(t,"class","button svelte-2k5n")},m(i,o){R(i,t,o),r(t,n),e||(l=j(t,"click",function(){ge(s[1])&&s[1].apply(this,arguments)}),e=!0)},p(i,[o]){s=i,1&o&&le(n,s[0])},i:G,o:G,d(i){i&&S(t),e=!1,l()}}}function Se(s,t,n){let{label:e="Submit"}=t,{onClick:l}=t;return s.$$set=i=>{"label"in i&&n(0,e=i.label),"onClick"in i&&n(1,l=i.onClick)},[e,l]}class We extends H{constructor(t){super(),K(this,t,Se,Re,Y,{label:0,onClick:1})}}function me(s){let t,n;return{c(){t=h("div"),n=se(s[1])},m(e,l){R(e,t,l),r(t,n)},p(e,l){2&l&&le(n,e[1])},d(e){e&&S(t)}}}function _e(s){let t,n,e,l,i,o,d,f,p=s[1]&&me(s);return{c(){t=h("div"),p&&p.c(),n=b(),e=h("label"),l=h("input"),i=b(),o=h("span"),c(l,"type","checkbox"),c(l,"class","svelte-n0uy88"),c(o,"class","svelte-n0uy88"),c(e,"class","custom-checkbox svelte-n0uy88"),c(t,"class","container svelte-n0uy88")},m(u,A){R(u,t,A),p&&p.m(t,null),r(t,n),r(t,e),r(e,l),l.checked=s[0],r(e,i),r(e,o),d||(f=j(l,"change",s[2]),d=!0)},p(u,[A]){u[1]?p?p.p(u,A):(p=me(u),p.c(),p.m(t,n)):p&&(p.d(1),p=null),1&A&&(l.checked=u[0])},i:G,o:G,d(u){u&&S(t),p&&p.d(),d=!1,f()}}}function Fe(s,t,n){let{isChecked:e=!1}=t,{question:l=null}=t;return s.$$set=i=>{"isChecked"in i&&n(0,e=i.isChecked),"question"in i&&n(1,l=i.question)},[e,l,function(){e=this.checked,n(0,e)}]}class Pe extends H{constructor(t){super(),K(this,t,Fe,_e,Y,{isChecked:0,question:1})}}function je(s){let t;return{c(){t=h("p"),t.textContent="Streaming in progress... Please wait for both responses to complete."},m(n,e){R(n,t,e)},p:G,i:G,o:G,d(n){n&&S(t)}}}function Ee(s){let t,n,e,l,i,o,d,f,p,u,A,y,$,x,k,w,m;function I(a){s[12](a)}let q={question:"Which response is formatted better? (e.g. level of detail style, structure)?"};function g(a){s[13](a)}s[2]!==void 0&&(q.selected=s[2]),t=new ae({props:q}),X.push(()=>ee(t,"selected",I));let M={question:"Which response follows your instruction better?"};function Z(a){s[14](a)}s[3]!==void 0&&(M.selected=s[3]),l=new ae({props:M}),X.push(()=>ee(l,"selected",g));let J={question:"Which response is better overall?"};function W(a){s[15](a)}s[1]!==void 0&&(J.selected=s[1]),d=new ae({props:J}),X.push(()=>ee(d,"selected",Z));let _={question:s[9]};function N(a){s[16](a)}s[5]!==void 0&&(_.isChecked=s[5]),u=new Pe({props:_}),X.push(()=>ee(u,"isChecked",W));let T={question:"Any additional feedback?",placeholder:"Please explain your answers to the above questions."};return s[4]!==void 0&&(T.value=s[4]),$=new Me({props:T}),X.push(()=>ee($,"value",N)),w=new We({props:{label:"Submit",onClick:s[10]}}),{c(){E(t.$$.fragment),e=b(),E(l.$$.fragment),o=b(),E(d.$$.fragment),p=b(),E(u.$$.fragment),y=b(),E($.$$.fragment),k=b(),E(w.$$.fragment)},m(a,C){L(t,a,C),R(a,e,C),L(l,a,C),R(a,o,C),L(d,a,C),R(a,p,C),L(u,a,C),R(a,y,C),L($,a,C),R(a,k,C),L(w,a,C),m=!0},p(a,C){const v={};!n&&4&C&&(n=!0,v.selected=a[2],te(()=>n=!1)),t.$set(v);const P={};!i&&8&C&&(i=!0,P.selected=a[3],te(()=>i=!1)),l.$set(P);const U={};!f&&2&C&&(f=!0,U.selected=a[1],te(()=>f=!1)),d.$set(U);const Q={};512&C&&(Q.question=a[9]),!A&&32&C&&(A=!0,Q.isChecked=a[5],te(()=>A=!1)),u.$set(Q);const V={};!x&&16&C&&(x=!0,V.value=a[4],te(()=>x=!1)),$.$set(V)},i(a){m||(B(t.$$.fragment,a),B(l.$$.fragment,a),B(d.$$.fragment,a),B(u.$$.fragment,a),B($.$$.fragment,a),B(w.$$.fragment,a),m=!0)},o(a){D(t.$$.fragment,a),D(l.$$.fragment,a),D(d.$$.fragment,a),D(u.$$.fragment,a),D($.$$.fragment,a),D(w.$$.fragment,a),m=!1},d(a){a&&(S(e),S(o),S(p),S(y),S(k)),O(t,a),O(l,a),O(d,a),O(u,a),O($,a),O(w,a)}}}function Le(s){let t,n,e,l,i,o,d,f,p,u,A,y,$,x,k,w,m,I,q,g,M,Z,J,W,_,N;i=new oe({props:{markdown:s[0].data.a.message}}),$=new oe({props:{markdown:s[8]}}),g=new oe({props:{markdown:s[7]}});const T=[Ee,je],a=[];function C(v,P){return v[6]?0:1}return W=C(s),_=a[W]=T[W](s),{c(){t=h("main"),n=h("div"),e=h("h1"),e.textContent="Input message",l=b(),E(i.$$.fragment),o=b(),d=h("hr"),f=b(),p=h("div"),u=h("div"),A=h("h1"),A.textContent="Option A",y=b(),E($.$$.fragment),x=b(),k=h("div"),w=b(),m=h("div"),I=h("h1"),I.textContent="Option B",q=b(),E(g.$$.fragment),M=b(),Z=h("hr"),J=b(),_.c(),c(e,"class","svelte-751nif"),c(d,"class","l-side-by-side svelte-751nif"),c(A,"class","svelte-751nif"),c(u,"class","l-side-by-side__child svelte-751nif"),c(k,"class","divider svelte-751nif"),c(I,"class","svelte-751nif"),c(m,"class","l-side-by-side__child svelte-751nif"),c(p,"class","l-side-by-side svelte-751nif"),c(Z,"class","svelte-751nif"),c(n,"class","l-pref svelte-751nif")},m(v,P){R(v,t,P),r(t,n),r(n,e),r(n,l),L(i,n,null),r(n,o),r(n,d),r(n,f),r(n,p),r(p,u),r(u,A),r(u,y),L($,u,null),r(p,x),r(p,k),r(p,w),r(p,m),r(m,I),r(m,q),L(g,m,null),r(n,M),r(n,Z),r(n,J),a[W].m(n,null),N=!0},p(v,[P]){const U={};1&P&&(U.markdown=v[0].data.a.message),i.$set(U);const Q={};256&P&&(Q.markdown=v[8]),$.$set(Q);const V={};128&P&&(V.markdown=v[7]),g.$set(V);let ie=W;W=C(v),W===ie?a[W].p(v,P):(re(),D(a[ie],1,1,()=>{a[ie]=null}),ce(),_=a[W],_?_.p(v,P):(_=a[W]=T[W](v),_.c()),B(_,1),_.m(n,null))},i(v){N||(B(i.$$.fragment,v),B($.$$.fragment,v),B(g.$$.fragment,v),B(_),N=!0)},o(v){D(i.$$.fragment,v),D($.$$.fragment,v),D(g.$$.fragment,v),D(_),N=!1},d(v){v&&S(t),O(i),O($),O(g),a[W].d()}}}function Oe(s,t,n){let e,l,i,{inputData:o}=t;const d=ve();let f=new ke(new qe(ne),ne,new Ce);xe(f);let p=null,u=null,A=null,y=null,$="",x=!1,k={a:null,b:null},w=o.data.a.response.length>0&&o.data.b.response.length>0;return be(()=>{window.addEventListener("message",m=>{const I=m.data;I.type===z.chatModelReply?(I.stream==="A"?n(11,k.a=I.data.text,k):I.stream==="B"&&n(11,k.b=I.data.text,k),n(11,k)):I.type===z.chatStreamDone&&n(6,w=!0)})}),s.$$set=m=>{"inputData"in m&&n(0,o=m.inputData)},s.$$.update=()=>{var m;2&s.$$.dirty&&n(9,e=(m=y)==="="||m===null?"Is this a high quality comparison?":`Are you completely happy with response '${m.startsWith("A")?"A":"B"}'?`),2049&s.$$.dirty&&n(8,l=k.a!==null?k.a:o.data.a.response),2049&s.$$.dirty&&n(7,i=k.b!==null?k.b:o.data.b.response),1&s.$$.dirty&&n(6,w=o.data.a.response.length>0&&o.data.b.response.length>0)},[o,y,p,u,$,x,w,i,l,e,function(){if(A="=",y===null)return void d("notify","Overall rating is required");d("result",{overallRating:y,formattingRating:p||"=",hallucinationRating:A||"=",instructionFollowingRating:u||"=",isHighQuality:x,textFeedback:$})},k,function(m){p=m,n(2,p)},function(m){u=m,n(3,u)},function(m){y=m,n(1,y)},function(m){x=m,n(5,x)},function(m){$=m,n(4,$)}]}class Ge extends H{constructor(t){super(),K(this,t,Oe,Le,Y,{inputData:0})}}function he(s){let t,n,e=s[0].type==="Chat"&&fe(s);return{c(){e&&e.c(),t=we()},m(l,i){e&&e.m(l,i),R(l,t,i),n=!0},p(l,i){l[0].type==="Chat"?e?(e.p(l,i),1&i&&B(e,1)):(e=fe(l),e.c(),B(e,1),e.m(t.parentNode,t)):e&&(re(),D(e,1,1,()=>{e=null}),ce())},i(l){n||(B(e),n=!0)},o(l){D(e),n=!1},d(l){l&&S(t),e&&e.d(l)}}}function fe(s){let t,n;return t=new Ge({props:{inputData:s[0]}}),t.$on("result",s[2]),t.$on("notify",s[3]),{c(){E(t.$$.fragment)},m(e,l){L(t,e,l),n=!0},p(e,l){const i={};1&l&&(i.inputData=e[0]),t.$set(i)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){D(t.$$.fragment,e),n=!1},d(e){O(t,e)}}}function Ne(s){let t,n,e=s[0]&&he(s);return{c(){t=h("main"),e&&e.c()},m(l,i){R(l,t,i),e&&e.m(t,null),n=!0},p(l,i){l[0]?e?(e.p(l,i),1&i&&B(e,1)):(e=he(l),e.c(),B(e,1),e.m(t,null)):e&&(re(),D(e,1,1,()=>{e=null}),ce())},i(l){n||(B(e),n=!0)},o(l){D(e),n=!1},d(l){l&&S(t),e&&e.d()}}}function Qe(s){let t,n,e,l;return t=new ye.Root({props:{$$slots:{default:[Ne]},$$scope:{ctx:s}}}),{c(){E(t.$$.fragment)},m(i,o){L(t,i,o),n=!0,e||(l=j(window,"message",s[1]),e=!0)},p(i,[o]){const d={};17&o&&(d.$$scope={dirty:o,ctx:i}),t.$set(d)},i(i){n||(B(t.$$.fragment,i),n=!0)},o(i){D(t.$$.fragment,i),n=!1},d(i){O(t,i),e=!1,l()}}}function ze(s,t,n){let e;return ne.postMessage({type:z.preferencePanelLoaded}),[e,function(l){const i=l.data;i.type===z.preferenceInit&&n(0,e=i.data)},function(l){const i=l.detail;ne.postMessage({type:z.preferenceResultMessage,data:i})},function(l){ne.postMessage({type:z.preferenceNotify,data:l.detail})}]}new class extends H{constructor(s){super(),K(this,s,ze,Qe,Y,{})}}({target:document.getElementById("app")});
